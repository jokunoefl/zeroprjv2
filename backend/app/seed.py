from sqlalchemy.orm import Session
from .models import Question, MathTopic, ScienceTopic

def seed_basic(db: Session):
    if db.query(Question).count() > 0:
        return
    samples = [
        dict(subject="算数", topic="割合", text="仕入れ値に20%の利益で販売価格は1,200円。仕入れ値は？", hint="販売=仕入×1.2", correct="1000", unit="円"),
        dict(subject="算数", topic="割合（応用）", text="原価の25%利益で販売1,250円。原価は？", hint="販売=原価×1.25", correct="1000", unit="円"),
    ]
    for s in samples:
        db.add(Question(**s))
    db.commit()

def seed_math_topics(db: Session):
    if db.query(MathTopic).count() > 0:
        return
    rows = [
        (1, "整数の範囲（位取り、四捨五入、概数）", "基礎"),
        (2, "小数（位の理解、四捨五入、近似値）", "基礎"),
        (3, "分数（真分数、仮分数、帯分数、大小比較）", "基礎"),
        (4, "倍数・約数、公約数・公倍数", "基礎"),
        (5, "素数・素因数分解", "応用"),
        (6, "最小公倍数・最大公約数の活用", "応用"),
        (7, "整数の性質（偶奇、余り、倍数判定）", "応用"),
        (8, "筆算（整数、小数、分数）", "基礎"),
        (9, "分数と小数の混合計算", "応用"),
        (10, "加減乗除の混合算（かっこ付き計算）", "基礎"),
        (11, "割合・比を含む計算", "応用"),
        (12, "正負の数（基本計算）", "発展"),
        (13, "まとめて計算（分配法則、交換法則）", "基礎"),
        (14, "約分と通分の工夫", "基礎"),
        (15, "逆算", "基礎"),
        (16, "四則計算の文章題", "応用"),
        (17, "割合の定義と求め方", "基礎"),
        (18, "百分率・歩合の変換", "基礎"),
        (19, "割合を使った文章題（割引・割増）", "基礎"),
        (20, "利益・損失の計算", "応用"),
        (21, "複合割合（連続増減）", "応用"),
        (22, "逆割合", "応用"),
        (23, "濃度計算（基本型）", "応用"),
        (24, "濃度変化（加水・蒸発・混合）", "発展"),
        (25, "比の表し方と簡単化", "基礎"),
        (26, "内分・外分", "応用"),
        (27, "比例・反比例", "応用"),
        (28, "面積比・体積比（相似比からの変換）", "応用"),
        (29, "比を使った配分", "応用"),
        (30, "複比・連比の利用", "発展"),
        (31, "三角形の性質（角の和、外角）", "基礎"),
        (32, "特殊三角形（正三角形、二等辺三角形）", "基礎"),
        (33, "四角形の性質（平行四辺形、長方形、正方形、台形、ひし形）", "基礎"),
        (34, "多角形の内角・外角", "応用"),
        (35, "正多角形の性質", "応用"),
        (36, "円とおうぎ形（円周、弧の長さ、面積）", "応用"),
        (37, "作図（垂線、二等分線）", "応用"),
        (38, "直方体・立方体の体積・表面積", "基礎"),
        (39, "円柱・円錐・球の体積・表面積", "応用"),
        (40, "三角柱・四角錐・角錐の体積", "応用"),
        (41, "立体の展開図", "基礎"),
        (42, "切断面（平行・垂直）", "発展"),
        (43, "回転体（軌跡・体積）", "発展"),
        (44, "三角形の相似条件", "応用"),
        (45, "相似比の利用（長さ・面積・体積）", "応用"),
        (46, "三角形の合同条件", "基礎"),
        (47, "線対称・点対称", "基礎"),
        (48, "図形の移動（平行移動・回転移動）", "基礎"),
        (49, "重心・垂心・内心・外心", "発展"),
        (50, "作図と計量の融合問題", "発展"),
        (51, "長さ・重さ・かさの単位換算", "基礎"),
        (52, "面積（長方形、三角形、台形、ひし形、円）", "基礎"),
        (53, "体積（角柱、円柱、錐体、球）", "基礎"),
        (54, "表面積", "応用"),
        (55, "時間（時・分・秒、時間計算）", "基礎"),
        (56, "速さ（道のり＝速さ×時間）", "基礎"),
        (57, "速さの応用（旅人算、追いつき算、出会い算）", "応用"),
        (58, "平均の速さ", "応用"),
        (59, "つるかめ算（基本型）", "基礎"),
        (60, "つるかめ算の応用（端数、比率）", "応用"),
        (61, "旅人算（出会い・追いつき）", "応用"),
        (62, "通過算（列車・川の流れ）", "発展"),
        (63, "植木算（点・辺・距離）", "基礎"),
        (64, "和差算", "基礎"),
        (65, "差集め算", "応用"),
        (66, "倍数算", "応用"),
        (67, "仕事算（基本・応用）", "応用"),
        (68, "流水算", "発展"),
        (69, "年齢算", "応用"),
        (70, "相当算", "応用"),
        (71, "速さ・比・割合の融合", "発展"),
        (72, "過不足算", "応用"),
        (73, "消費税・利子計算（単利・複利）", "応用"),
        (74, "損益算（まとめ売り、合併売り）", "応用"),
        (75, "順列・組み合わせ（基本）", "応用"),
        (76, "樹形図", "基礎"),
        (77, "サイコロ・コインの確率", "基礎"),
        (78, "カードの確率", "応用"),
        (79, "重複を含む場合の数", "発展"),
        (80, "順列・組み合わせの応用（条件付き）", "発展"),
        (81, "表・グラフの読み取り（棒グラフ、折れ線グラフ、円グラフ）", "基礎"),
        (82, "複合グラフ（棒＋折れ線）", "応用"),
        (83, "ヒストグラム", "応用"),
        (84, "平均・中央値・最頻値", "基礎"),
        (85, "割合グラフ", "基礎"),
        (86, "散布図と相関関係", "発展"),
        (87, "相似を利用した影の長さ", "応用"),
        (88, "水そう算（容積と変化）", "発展"),
        (89, "立体の切断による断面積", "発展"),
        (90, "紙テープ・帯グラフ算", "応用"),
        (91, "規則性の問題（数列・図形）", "応用"),
        (92, "等差数列・等比数列（初歩）", "発展"),
        (93, "差のつき方のパターン", "応用"),
        (94, "数表算（マス目の規則）", "応用"),
        (95, "魔方陣", "発展"),
        (96, "時計算（針の角度）", "応用"),
        (97, "式による説明問題", "発展"),
        (98, "実験・観察を利用した応用問題", "応用"),
        (99, "中学受験頻出融合問題（速さ＋比、割合＋図形など）", "発展"),
        (100, "発展的確率（条件付き確率、場合分け）", "発展"),
    ]
    for i, name, diff in rows:
        db.add(MathTopic(id=i, name=name, difficulty=diff))
    db.commit()

def seed_science_topics(db: Session):
    if db.query(ScienceTopic).count() > 0:
        return
    rows = [
        # 物理 1-20
        (1, "物理", "光の性質（反射・屈折）", "基礎"),
        (2, "物理", "光の作図（鏡・レンズ）", "応用"),
        (3, "物理", "音の性質（高さ・大きさ・波）", "基礎"),
        (4, "物理", "音の伝わり方（空気・水・金属）", "応用"),
        (5, "物理", "電流と回路（直列・並列）", "基礎"),
        (6, "物理", "オームの法則と応用計算", "応用"),
        (7, "物理", "電磁石の性質", "基礎"),
        (8, "物理", "電磁誘導と応用", "発展"),
        (9, "物理", "力のはたらき（てこ・滑車）", "基礎"),
        (10, "物理", "力のつり合いとモーメント計算", "応用"),
        (11, "物理", "浮力と密度の計算", "応用"),
        (12, "物理", "ばねののび（フックの法則）", "基礎"),
        (13, "物理", "気圧と水圧", "応用"),
        (14, "物理", "熱の伝わり方（伝導・対流・放射）", "基礎"),
        (15, "物理", "熱膨張と温度変化", "応用"),
        (16, "物理", "エネルギーの変換と保存", "発展"),
        (17, "物理", "仕事と仕事率", "応用"),
        (18, "物理", "運動と速さ・加速度", "応用"),
        (19, "物理", "摩擦力の影響", "基礎"),
        (20, "物理", "慣性の法則", "発展"),
        # 化学 21-40
        (21, "化学", "状態変化（融解・凝固・蒸発・沸騰・凝縮）", "基礎"),
        (22, "化学", "物質の分類（純物質・混合物）", "基礎"),
        (23, "化学", "気体の発生方法と性質", "応用"),
        (24, "化学", "水溶液の性質（酸・アルカリ・中和）", "基礎"),
        (25, "化学", "中和計算", "応用"),
        (26, "化学", "溶解度と再結晶", "応用"),
        (27, "化学", "蒸留・ろ過・再結晶の方法", "基礎"),
        (28, "化学", "金属・非金属の性質", "基礎"),
        (29, "化学", "金属と酸の反応", "応用"),
        (30, "化学", "酸化と還元", "応用"),
        (31, "化学", "燃焼と熱量計算", "発展"),
        (32, "化学", "プラスチックの種類と性質", "基礎"),
        (33, "化学", "化学変化と質量保存の法則", "応用"),
        (34, "化学", "原子・分子の構造", "基礎"),
        (35, "化学", "イオンと電気伝導", "応用"),
        (36, "化学", "電気分解", "発展"),
        (37, "化学", "光合成における化学反応式", "発展"),
        (38, "化学", "化学反応の速さに影響する要因", "発展"),
        (39, "化学", "酸化数と化学式の決定", "発展"),
        (40, "化学", "化学結合の種類", "発展"),
        # 生物 41-60
        (41, "生物", "植物の分類と特徴", "基礎"),
        (42, "生物", "光合成と呼吸", "基礎"),
        (43, "生物", "種子の発芽条件", "基礎"),
        (44, "生物", "花のつくりとはたらき", "基礎"),
        (45, "生物", "受粉と受精", "応用"),
        (46, "生物", "果実と種子の散布方法", "基礎"),
        (47, "生物", "動物の分類（無脊椎・脊椎）", "基礎"),
        (48, "生物", "哺乳類・鳥類・爬虫類・両生類・魚類の特徴", "基礎"),
        (49, "生物", "食物連鎖と生態系", "基礎"),
        (50, "生物", "外来種と生態系のバランス", "応用"),
        (51, "生物", "動物の骨格と筋肉", "応用"),
        (52, "生物", "呼吸器系・循環器系", "応用"),
        (53, "生物", "消化器系と消化酵素", "応用"),
        (54, "生物", "神経系と感覚器官", "応用"),
        (55, "生物", "生殖と発生", "応用"),
        (56, "生物", "細胞分裂と遺伝", "発展"),
        (57, "生物", "DNAの構造と働き", "発展"),
        (58, "生物", "進化と適応", "発展"),
        (59, "生物", "季節と動植物の生活", "基礎"),
        (60, "生物", "環境問題と保全活動", "応用"),
        # 地学 61-80
        (61, "地学", "地層と化石", "基礎"),
        (62, "地学", "火山と火成岩", "基礎"),
        (63, "地学", "地震の仕組みと震度・マグニチュード", "応用"),
        (64, "地学", "プレートテクトニクス", "応用"),
        (65, "地学", "気象の観測（温度・湿度・気圧）", "基礎"),
        (66, "地学", "雲の種類と天気の変化", "基礎"),
        (67, "地学", "低気圧・高気圧の性質", "応用"),
        (68, "地学", "前線の種類と天気図の読み取り", "応用"),
        (69, "地学", "台風の構造と進路予測", "応用"),
        (70, "地学", "気候帯と世界の気候", "基礎"),
        (71, "地学", "地球の自転と公転", "基礎"),
        (72, "地学", "季節の変化の理由", "基礎"),
        (73, "地学", "月の満ち欠け", "基礎"),
        (74, "地学", "日食と月食", "応用"),
        (75, "地学", "太陽系の惑星と特徴", "基礎"),
        (76, "地学", "恒星と銀河", "応用"),
        (77, "地学", "宇宙の膨張とビッグバン", "発展"),
        (78, "地学", "宇宙探査の歴史と未来", "発展"),
        (79, "地学", "海流と海洋大循環", "発展"),
        (80, "地学", "地球温暖化と気候変動", "応用"),
        # 総合 81-100
        (81, "総合", "観察記録の取り方", "基礎"),
        (82, "総合", "顕微鏡の使い方", "基礎"),
        (83, "総合", "実験器具の安全な使い方", "基礎"),
        (84, "総合", "質量・体積の測定", "基礎"),
        (85, "総合", "濃度の測定方法", "応用"),
        (86, "総合", "気体検知管の使い方", "応用"),
        (87, "総合", "データ整理とグラフ化", "基礎"),
        (88, "総合", "誤差の原因と対策", "応用"),
        (89, "総合", "仮説検証型実験", "応用"),
        (90, "総合", "探究型学習の計画", "発展"),
        (91, "総合", "複合分野融合問題（例: 化学反応＋気象）", "発展"),
        (92, "総合", "複合分野融合問題（例: 力学＋天体）", "発展"),
        (93, "総合", "複合分野融合問題（例: 生物＋環境）", "発展"),
        (94, "総合", "過去問に見る理科の頻出テーマ", "応用"),
        (95, "総合", "最新科学ニュースの応用問題", "発展"),
        (96, "総合", "科学史の重要発見", "応用"),
        (97, "総合", "環境保全と持続可能性", "応用"),
        (98, "総合", "理科自由研究のテーマ設定", "基礎"),
        (99, "総合", "研究結果の発表方法", "基礎"),
        (100, "総合", "理科における論理的思考力問題", "発展"),
    ]
    for i, domain, name, diff in rows:
        db.add(ScienceTopic(id=i, domain=domain, name=name, difficulty=diff))
    db.commit()


